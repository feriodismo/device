<!DOCTYPE html>
<html>
<head>
	<title>Ubicacion del Cel</title>
</head>
<body>
<div class="visibilidad"></div>
<div class="visibilidad2"></div>
<strong>geolocation</strong>
<p class="comentario"></p>

<script>
  var comentario = document.querySelector('.comentario')
  var visibilidad = document.querySelector('.visibilidad')
  var visibilidad2 = document.querySelector('.visibilidad2')
  window.addEventListener('deviceorientation', deviceOrientationHandler, false);
  function deviceOrientationHandler(e){
  	var beta = Math.round(e.beta)
  	var gamma = Math.round(e.gamma)
  	var alpha = Math.round(e.alpha)
  		visibilidad.innerHTML = 'alpha:'+alpha+'<br> beta:'+beta+'<br> gamma:'+gamma+'<br><br>'
  		console.log(e);
  }
//  function handleMotionEvent(event) {
//  		console.log(event);
//     var x = event.acceleration.x;
//     var y = event.acceleration.y;
//     var z = event.acceleration.z;
//     	visibilidad2.innerHTML = 'x:'+x+'<br> y:'+y+'<br> z:'+z+'<br><br>'
//     // Do something awesome.
// }

// window.addEventListener("devicemotion", handleMotionEvent, true);

// setInterval(getLocation, 300);
// function getLocation() {
//     if (navigator.geolocation) {
//         navigator.geolocation.getCurrentPosition(showPosition);
//     } else {
//         comentario.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }
// function showPosition(position) {
//   console.log(position);
//     // comentario.innerHTML = "Latitude: " + position.coords.latitude + 
//     // "<br>Longitude: " + position.coords.longitude; 
// }
var contador = 0;

setInterval(ejemplo, 1000);
function ejemplo(){
	console.log('hola')
  var startPos;
  var geoSuccess = function(position) {
  	contador++;

    startPos = position;
    comentario.innerHTML = startPos.coords.latitude + '<br>' + startPos.coords.longitude +'<br>' + contador;
  
  };
  var geoError = function(error) {
    console.log('Error occurred. Error code: ' + error.code);
    // error.code can be:
    //   0: unknown error
    //   1: permission denied
    //   2: position unavailable (error response from location provider)
    //   3: timed out
  };
  navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
}



</script>
</body>
</html>